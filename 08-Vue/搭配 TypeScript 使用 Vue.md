---
标题: 
图片: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACsCAMAAADhRvHiAAABIFBMVEX///8AeM86uYLu7u40SV8AetDt8PoAW8iIt+d4pd5BidgAcc0Abs0Adc0AZckAacpZWng1S17S5vWWuuQAXMZZxZfm8PlHR0cyR140RF0AY8jk5OQ7x4c0OVs6wIUArmsAAAArKyuQkJBtbW3s9/w7zYk0L1gptHk6vYQArWkyMjLV7+I6toHq+PIzP1x/0Kqy4ss4mXbH6tqoxumzzuzV1dU9PT3d6veQsOFvyZ1a1pxahYFbVXZNUGham4lZzZp+m9sATcNidIE3inIAJEPHz9KrtrqX2LoaOE8VMEycqK97ipQzKVY2XGQ3cGo4em5OX205q343hHCm3cQ1ZGY1VWMZGRlRUVE5mHiqqqqBgYHB2fEAQb9Ees8zD1JflthZPCY7AAAI9UlEQVR4nO2cCXfaRhRGZWyVgIRUsLyBlzgBvGFn8Zo2XZLYjp04SbM1qR3K//8XlcQgaeYJeBKjqTjn3XNSO0KMm3tmhvfNjKw1ZomxNLRZjRjLLGnCQJpQkCYUpAkFaUJBmlCQJhSkCQVpQkGaUJAmFKQJBWlCQZpQkCYUpAkFaUJBmlCQJhSkCQVpQkGaUJAmFKQJBWlCQZpQkCYUpAkFaUJBmlCQJhSkCQVpQkGaUJAmFKQJBWlCQZpQkCYUpAkFaUJBmlCQJhSkCcX0afpJLk3UDx2r6dmCwC+/Pv+Z47dGzNsufuNvev77H2JDr5Mr8vjzheMUJeE4L0qoHzpW095Op9DpFEI6q2tVjquXMW+rChy0om14zezsJ1fkUTJ0iZj3UD90/KB7tMX/+wqrr9bmlpfnQs4vwJsuz+fCO9yb20/WhVa2UnYmV9OMRGxZmvY3CqKnlagkV0MVtHo1J9whdqbCVhpFHlI1yetN2mexO60/aVc5C9dvhLe8FTTddLaFNjaeplHkIbc3ydOkib2p03q3wmu44htpnPMvH7wXO9PWQipFHrnV9FQcdtuFtqDpLfeGl/ygnGuvikNuYy+VIo/catIWwCz+4YAXcR4tCi6EzrT2alWcmB6lU+SRX017cBZfE+bovyK3C31p7qAlvn0jZTHgkV9N2mvQnb4Lnq4vg5vfXHOvVG8+isXAxueUijxyrEkTNXVWq0KfWQ5aFD7lVt6BYqCQ0pBPnjU9FofdeudG6E6DokAsBtpiLTBBMeCRZ03aAuhOX4Si4LrfECgGPogfcxMUAx651gRn8W2hxmTR7is/GKttqfO3lnNN2jMwi38SZnE/2l0K87fEMMfItyYY7VoHMNqB+VtimGPkWxMsCmC0u9Te8p0pLsw9Tm/IJ+eaNPEfDKLd8pU4f6+AMFeYbP7W8q8JRruOEO2WhSFXvREnpknCHCPvmkBRUFh9L0Q7gbVPMsMcI/eaYhbo2qM1gSG3kVZOSO41xaz3itGOoy03zDHyr2kfRLtWdWWopZgwt51STZT8a4LrvdsfhaIgwo04RCcMc4wp0ATWewsg2gW4YU68eeJiwGMaNIFot719M6Q7tUVLqXfmeKZBE4h2ndan+KJg7QkoBiYMc4yp0BRTFMRqWp6THuYYU6EpNtrFDbmP0sMcYzo0wfXe1lc4i698kbuyG2FKNIH1XrcogMUACHM7E4c5xpRoArt2nRaIdjE7c88S+xjCtGiK2bUTa8wDuM0rpRjwmBZN8Ud5IlRhmJNUDHhMjSYQ7Qqr3CSewcpuBKhJn9H1Ge+P/98I3oXIbYOrijRpn8GuHRft2hKP6UCAJt2yLR/2xbLqg28sWw8cGU7dxXGsiq5I0+ijPAfvwZ5TJ8XPGIaoSTePDkOOIrh/u2f2neh2vXTnnUZtLh6VixFRmWoC672F9bA7gcW4Dn7+Pr7/9/3j0bcATfURN9fqfSPFs8jF03JdV6IpZtcuOMqz9h3M3/iV3cbut924g8ERgCZrxM01S/dN1vjLZ0V90BUz1QSiXSc4yrMCOxO+3cbm0mbS3mSPuNnXpDs18fq9QX/KVlPcUZ42C3NgZTdBmDvOQJNuHcIXymzSylhTTLTzJ6cJj+l4vSnpoDNH3OxpqnRjXmjaSnpTTLQr3FTdyjL1ztw/D1xuT5ZObr1vHgy9D2paHHDKbmkGV+4sXa8POlNzvle66397alZUzE0uYqfxo13Mzhw2zN1u7u7uniwtLblfdje/Db0PlpdFh/GDzUFnPwZX3ClIdxb7V08dyzCdrlcWnBVZ5Zm9Jhjt3KJgDZRM6JXd292lkJMkmoKq22Ka5k09UnKb7Omdnv8Uh1HWTrth1Zm5ppii4NW/ExzTefDQwx10/teHQ+8bnumCz/15myu02RvL/jhzPTlhYFGgKWa9d+Iwl2IKj2iy4jWFvcm/KxpWFGiC0a4AtpyShrlj+Zp0i2mqFfko3HeYvSZwlCeGhC1mockZfADWTAeIUqEJRjueBGGOkSKsjNVkh3nuqOsY/EqKCk3wKQ1hYkp8TOf4/mbS6DtO08yMHXlQtdZ7YSiem+JmcX5mStzg7OXF5Zj/oeSaTO5B1cVS0VD5SecBoh3XmSQc04Ek1xTW4X0We0FJoEgTiHYcE7U8jOSa3FlcCL939YqqKrwPiHaRISdxZTdCCk2uJ+EB8abR96RKE4h2IVKO6UDSaHJ12EdcK02z/4IqTXs7QyzJOaYDSaXJrZcsgxt5NUdXqQnu2rH5W97OHE86Tf7Lztli2E4/uyjTNKQokLgzx5Nak1dpOqVA1F1dqSZ4INOfvyUd04Gkm5vYF90ozrN2mobSQRdfFMjcmeNJ9UlnhgVlUBx4Cyu6tN9qMZ6YaCftmA4kRXlZcUpWcCVYGu8ZansTjHYSnrkYSmJNulM+1UJPlQprqFdRrGl/R6ie5B3TgSTUpNu2v03Qs/sBRTd6rKGyak1iUSDjmYuhJNRkDKbsUtGs6HqlbrLPuqa/5qtUk3CUR8YzF0NJqilYRamVyoZRnh/8vb9vrlQTv96bUZhjJNMUjjHQjqleU/Qoz4QP0I8j6dxUn49t5lRxWOkT2bXLcv7W0qyFH8U10+1v+yrWFO7aZRbmGCkKgjPQSLNrqDlqIRJEu8zCHCPxdqarr3vHt3FkD9Z5VWsarPdmF+YYI3tT0wesXlac7mGQeRcPu/VgI0q5JhbtsgtzjFEHnk3bx4DLTRW7bvRKLr1u3Yrs1qnX5Ee7yR+gH8fYc+FDFlH0mYphmkaFf129Ju8B/CzDHGOC4/PwWLiytfAIblGQcTHgkdffe4nn0U7GxYDH1DyMMZR9Cb+NYSwluyIRhctyIdkPOU0765Yl0o2PMiLT9/vC/xdIEwrShII0oSBNKEgTCtKEgjShIE0oSBMK0oSCNKEgTShIEwrShII0oSBNKEgTCtKEgjShIE0oSBMK0oSCNKEgTShIEwrShII0oSBNKEgTCtKEgjShIE0oSBMK0oSCNKEgTShIEwrShII0oSBNKEgTCtKEgjShIE0oZrXGLDGWxn82OQ8WFfdULgAAAABJRU5ErkJggg==
链接: https://cn.vuejs.org/guide/typescript/composition-api.html
时时: 
评价: 
tags:
---
# TypeScript 与组合式 API
## 为组件的 props 标注类型[​](https://cn.vuejs.org/guide/typescript/composition-api.html#typing-component-props)

### 使用 `<script setup>`[​](https://cn.vuejs.org/guide/typescript/composition-api.html#using-script-setup)

当使用 `<script setup>` 时，`defineProps()` 宏函数支持从它的参数中推导类型：
```js
<script setup lang="ts">
const props = defineProps({
  foo: { type: String, required: true },
  bar: Number
})

props.foo // string
props.bar // number | undefined
</script>
```

## 为 `computed()` 标注类型[​](https://cn.vuejs.org/guide/typescript/composition-api.html#typing-computed)

`computed()` 会自动从其计算函数的返回值上推导出类型：
 
```ts
import { ref, computed } from 'vue'

const count = ref(0)

// 推导得到的类型：ComputedRef<number>
const double = computed(() => count.value * 2)

// => TS Error: Property 'split' does not exist on type 'number'
const result = double.value.split('')
```

你还可以通过泛型参数显式指定类型：
 
```ts
const double = computed<number>(() => {
  // 若返回值不是 number 类型则会报错
})
```

## 为事件处理函数标注类型[​](https://cn.vuejs.org/guide/typescript/composition-api.html#typing-event-handlers)

在处理原生 DOM 事件时，应该为我们传递给事件处理函数的参数正确地标注类型。让我们看一下这个例子：
 
```js
<script setup lang="ts">
function handleChange(event) {
  // `event` 隐式地标注为 `any` 类型
  console.log(event.target.value)
}
</script>

<template>
  <input type="text" @change="handleChange" />
</template>
```

没有类型标注时，这个 `event` 参数会隐式地标注为 `any` 类型。这也会在 `tsconfig.json` 中配置了 `"strict": true` 或 `"noImplicitAny": true` 时报出一个 TS 错误。因此，建议显式地为事件处理函数的参数标注类型。此外，你在访问 `event` 上的属性时可能需要使用类型断言：

ts

```
function handleChange(event: Event) {
  console.log((event.target as HTMLInputElement).value)
}
```