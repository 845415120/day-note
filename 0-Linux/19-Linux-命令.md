---
时间: 2023-11-25
标题: 19-Linux 命令
图片: https://i.imgs.ovh/2023/11/25/MJclA.png
链接: 
tags:
---
# 查看目录命令

|命令|说明|
|---|---|
|ls|查看当前目录信息|
|tree|以树状方式显示目录信息|


- ls只能查看一层目录信息
- tree可以查看多层目录信息。

**ls命令效果图:**
![|500](Pasted%20image%2020231125100300.png)

**tree命令效果图:**
![|500](Pasted%20image%2020231125100321.png)

### 2. 查看当前目录路径

|命令|说明|
|---|---|
|pwd|查看当前目录路径|

**pwd命令效果图:**
![|500](Pasted%20image%2020231125100358.png)

### 3. 清除终端内容

|命令|说明|
|---|---|
|clear|清除终端内容|

**pwd命令效果图:**
![|500](Pasted%20image%2020231125100418.png)

# 切换目录命令

|命令|说明|
|---|---|
|cd 目录|切换到指定目录|
|cd ~|切换到当前用户的主目录|
|cd ..|切换到上一级目录|
|cd .|切换到当前目录|
|cd -|切换到上一次目录|

# 绝对路径和相对路径

# 创建、删除文件及目录命令

|命令|说明|
|---|---|
|touch 文件名|创建指定文件|
|mkdir 目录名|创建目录(文件夹)|
|rm 文件名或者目录名|删除指定文件或者目录|
|rmdir 目录名|删除空目录|

# 复制、移动文件及目录命令

|命令|说明|
|---|---|
|cp|拷贝文件、拷贝目录|
|mv|移动文件、移动目录、重命名|

**cp命令效果图:**
![|500](Pasted%20image%2020231125100950.png)
**说明:**
- 拷贝目录需要加上-r选项，-r表示递归拷贝目录及其内容


- cp：拷贝目录需要加上 –r 选项
- mv：移动目录不需要加选项
- mv：命令还可以重命名文件和目录

# 终端命令格式的组成

### 终端命令格式
`command [-options] [parameter]`
- 终端命令完整格式: 命令名 选项(可选) 参数(可选)

**每项信息的说明:**
- command：命令名, 比如: ls、pwd
- [-options]：选项，可以有零个、一个或者多个选项，多个选项可以合并，比如使用的 -r 就是选项。
- [parameter]：参数，可以有零个、一个 或者 多个参数， 比如: touch 文件名、mkdir 目录名、cd 目标目录(路径)，这些文件名和目录名都是参数。
- []：代表可选

- 选项：用于调整命令的功能，比如：-r选项调整cp命令的功能。
- 选项可以分为短选项和长选项
    1. 短选项的格式: '-'后面接单个字母, 比如:-r
    2. 长选项的格式: '--'后面接单词, 比如:--help
- 参数：命令的操作对象，一般是文件名或者目录名。
- 对于命令，它的选项和参数一般情况下没有顺序要求，但是scp命令是必须先选项然后在跟上参数。

# 帮助命令

- --help 使用说明: 命令 --help
- man 使用说明: man 命令
**查看命令帮助的目的说明:**
- 查看命令帮助目的是查看命令选项信息的

**man命令的说明:**

|操作键|说明|
|---|---|
|空格|显示下一屏信息|
|回车|显示下一行信息|
|b|显示上一屏信息|
|f|显示下一屏信息|
|q|退出|
**--help效果图:**
![](Pasted%20image%2020231125103055.png)

**man效果图:**
![](Pasted%20image%2020231125103046.png)

# ls命令选项

查看目录中隐藏文件的命令

|命令选项|说明|
|---|---|
|-l|以列表方式显示|
|-h|件大小单位显示，默认是字节|
|-a|显示隐藏文件和隐藏目录|

![](Pasted%20image%2020231125103241.png)

**每项信息说明:**

![](Pasted%20image%2020231125103233.png)

# mkdir和rm命令选项

### 1. mkdir命令选项

|命令选项|说明|
|---|---|
|-p|创建所依赖的文件夹|

**mkdir命令选项效果图:**
![](Pasted%20image%2020231125103808.png)
### 2. rm命令选项

|命令选项|说明|
|---|---|
|-i|交互式提示|
|-r|递归删除目录及其内容|
|-f|强制删除，忽略不存在的文件，无需提示|
|-d|删除空目录|

- 创建嵌套文件夹使用 **“mkdir –p”** 嵌套目录
- 删除空目录使用 **“rmdir 目录名”** 或者 **“rm –d 目录名”**
- 删除非空目录使用 **“rm –r 目录名”**

# cp和mv命令选项

### 1. cp命令选项

|命令选项|说明|
|---|---|
|-i|交互式提示|
|-r|递归拷贝目录及其内容|
|-v|显示拷贝后的路径描述|
|-a|保留文件的原有权限|

- 拷贝文件防止覆盖使用 **“cp –i”** 操作
- 拷贝文件夹使用 **“cp –r”** 操作，拷贝文件夹并且文件权限不丢失使用 **“cp –a”** 操作。
- 移动文件防止覆盖使用 **“mv –i”** 操作
- 移动文件夹直接使用 **“mv”** 即可，**“mv”** 还可以给文件和文件夹重命名。

# 重定向命令

### 1. 重定向命令的介绍

重定向也称为输出重定向，把在终端执行命令的结果保存到目标文件。

### 2. 重定向命令的使用

|命令|说明|
|---|---|
|>|如果文件存在会覆盖原有文件内容，相当于文件操作中的‘w’模式|
|>>|如果文件存在会追加写入文件末尾，相当于文件操作中的‘a’ 模式|

- 终端内容保存到文件使用重定向有两种方式: **>** 和 **>>**
- **>** 表示每次只写入最新的数据，原有数据不保留。
- **>>** 表示每次在原有数据的基础上进行追加，原有数据会保留。

![|](Pasted%20image%2020231125104301.png)

# 查看文件内容命令

|命令|说明|
|---|---|
|cat|查看小型文件|
|more|分屏查看大型文件|

- cat命令结合重定向可以完成多个文件的合并
- gedit 文件编辑命令，可以查看和编辑文件

**more命令的效果图**

当查看内容信息过长无法在一屏上显示时，可以使用 more 命令在终端分配显示文件内容。
![](Pasted%20image%2020231125122354.png)
**操作键说明:**

|操作键|说明|
|---|---|
|空格|显示下一屏信息|
|回车|显示下一行信息|
|b|显示上一屏信息|
|f|显示下一屏信息|
|q|退出|
### 管道(|)命令
管道(|)：一个命令的输出可以通过管道做为另一个命令的输入，可以理解成是一个容器，存放在终端显示的内容。
![](Pasted%20image%2020231125122425.png)


- 查看小文件使用 **cat** 命令
- 分屏查看大型文件使用 **more** 命令，
- 查看终端显示内容并分屏展示，使用 **管道(|)** 结合 **more** 命令。

# 链接命令

### 链接命令的介绍

链接命令是创建链接文件，链接文件分为:

- 软链接
- 硬链接

|命令|说明|
|---|---|
|ln -s|创建软链接|
|ln|创建硬链接|

### 软链接

类似于**Windows下的快捷方式**，当一个源文件的目录层级比较深，我们想要方便使用它可以给源文件创建一个软链接。

- 软链接的作用是方便文件的快速访问，比如:给一个复杂路径下的文件创建一个软链接，以后就可以通过软链接完成快速访问操作。
- 创建软链接命令格式: ln -s 源文件路径(使用绝对路径) 软链接

### 硬链接

类似于**源文件的一个别名**，也就是说这两个名字指向的是同一个文件数据。

![](Pasted%20image%2020231125123013.png)

- 硬链接的作用是可以给重要文件创建硬链接，能够防止文件数据被误删。
- 删除源文件，软链接失效，但是硬链接依然可以使用。
- 创建硬链接命令格式: ln 源文件路径 硬链接

# 文本搜索命令

### 1. grep命令的使用

|命令|说明|
|---|---|
|grep|文本搜索|
![|500](Pasted%20image%2020231125123114.png)

### 2. grep命令选项的使用

|命令选项|说明|
|---|---|
|-i|忽略大小写|
|-n|显示匹配行号|
|-v|显示不包含匹配文本的所有行|

### 3. grep命令结合正则表达式的使用

|正则表达式|说明|
|---|---|
|^|以指定字符串开头|
|$|以指定字符串结尾|
|.|匹配一个非换行符的字符|

![](Pasted%20image%2020231125123324.png)

### 扩展

- **grep** 命令还可以文本搜索管道中的内容，比如: **ls / | grep ‘lib’**
- 在使用 **grep** 命令的时候还可以省略搜索内容的引号，比如: **ls / | grep lib**， **grep hello 1.txt**

# 查找文件命令

### 1. find命令及选项的使用

|命令|说明|
|---|---|
|find|在指定目录下查找文件(包括目录)|

**find命令选项:**

|选项|说明|
|---|---|
|-name|根据文件名(包括目录名)字查找|

![](Pasted%20image%2020231125124826.png)

### 2. find命令结合通配符的使用

**通配符:**

是一种特殊语句，主要有星号(*)和问号(?)，用来模糊搜索文件

|通配符|说明|
|---|---|
|*|代表0个或多个任意字符|
|?|代表任意一个字符|

- find命令是完成查找文件操作的
- 查找文件的命令格式: find 指定查找目录 -name "文件名"

# 压缩和解压缩命令

### 1. 压缩格式的介绍

Linux默认支持的压缩格式:

- .gz
- .bz2
- .zip

**说明:**

- .gz和.bz2的压缩包需要使用tar命令来压缩和解压缩
- .zip的压缩包需要使用zip命令来压缩，使用unzip命令来解压缩

### 2. tar命令及选项的使用

|命令|说明|
|---|---|
|tar|压缩和解压缩命令|

**tar命令选项:**

|选项|说明|
|---|---|
|-c|创建打包文件|
|-v|显示打包或者解包的详细信息|
|-f|指定文件名称, 必须放到所有选项后面|
|-z|压缩或解压缩(.gz)|
|-j|压缩或解压缩(.bz2)|
|-x|解包|
|-C|解压缩到指定目录|

### 3. zip和unzip命令及选项的使用

|命令|说明|
|---|---|
|zip|压缩成.zip格式文件|
|unzip|解压缩.zip格式文件|

**unzip命令选项:**

|选项|说明|
|---|---|
|-d|解压缩到指定目录|

# 文件权限命令

### 1. chmod命令的介绍

|命令|说明|
|---|---|
    |chmod|修改文件权限|
    
chmod修改文件权限有两种方式:

- 字母法
- 数字法

### 2. chmod 字母法的使用

**角色说明:**

|角色|说明|
|---|---|
|u|user, 表示该文件的所有者|
|g|group, 表示用户组|
|o|other, 表示其他用户|
|a|all, 表示所有用户|

**权限设置说明:**

|操作符|说明|
|---|---|
|+|增加权限|
|-|撤销权限|
|=|设置权限|

**权限说明:**

|权限|说明|
|---|---|
|r|可读|
|w|可写|
|x|可执行|
|-|无任何权限|

### 3. chmod 数字法的使用

数字法就是“rwx” 这些权限也可以用**数字来代替**

**权限说明:**

|权限|说明|
|---|---|
|r|可读，权限值是4|
||
|w|可写，权限值是2|
|x|可执行，权限值是1|
|-|无任何权限，权限值是0|

# 获取管理员权限的相关命令

### 1. sudo命令的使用

|命令|说明|
|---|---|
|sudo -s|切换到root用户，获取管理员权限|
|sudo|某个命令的执行需要获取管理员权限可以在执行命令前面加上sudo|

**sudo -s效果图:**
![](Pasted%20image%2020231125125231.png)
**sudo 命令效果图:**
![](Pasted%20image%2020231125125244.png)

### 2. whoami命令的使用

|命令|说明|
|---|---|
|whoami|查看当前用户限|

### 3. exit命令的使用

|命令|说明|
|---|---|
|exit|退出登录用户|

### 4. who命令的使用

|命令|说明|
|---|---|
|who|查看所有的登录用户|

### 5. passwd命令的使用

|命令|说明|
|---|---|
|passwd|修改用户密码，不指定用户默认修改当前登录用户密码|

### 6. which命令的使用

|命令|说明|
|---|---|
|which|查看命令位置|

### 7. 关机和重启命令的使用

|命令|说明|
|---|---|
|shutdown –h now|立刻关机|
|reboot|重启|

# 用户相关操作

### 1. 创建用户

|命令|说明|
|---|---|
|useradd|创建(添加)用户|

**useradd命令选项:**

|选项|说明|
|---|---|
|-m|自动创建用户主目录,主目录的名字就是用户名|
|-g|指定用户所属的用户组，默认不指定会自动创建一个同名的用户组|

**创建用户效果图:**
![](Pasted%20image%2020231125125406.png)
**查看所有用户信息的文件效果图:**
![](Pasted%20image%2020231125125416.png)

![](Pasted%20image%2020231125125446.png)

**说明:**

- **useradd** 命令的使用需要使用管理员权限，前面需要加上 **sudo**
- 创建用户如果不指定用户组，默认会自动创建一个同名的用户组
- 查看用户是否创建成功，可以查看**/etc/passwd**这个文件
- 查看用户组是否创建成功，可以查看**/etc/group**这个文件

**passwd文件中的每项信息说明,以root:x:0:0:root:/root:/bin/bash为例:**

- 第一个：用户名
- 第二个：密码占位符
- 第三个：uid, 用户id
- 第四个：gid, 用户所在组id
- 第五个：用户描述, 可选，
- 第六个：用户的主目录所在位置
- 第七个：用户所用 shell 的类型，一般由bash或者sh，默认不设置是sh类型

**group文件中的每项信息说明, 以laowang:x:1001:为例:**

- 第一个：用户组名
- 第二个：用户组密码占位符，一般Linux系统的用户组都没有密码的
- 第三个：组id

**id命令查看用户信息:**

|命令|说明|
|---|---|
|id|查看用户信息|

**id命令效果图:**

![](Pasted%20image%2020231125125505.png)

**每项信息说明:**

uid=1001(laowang) gid=1001(laowang) 组=1001(laowang)

- 第一个: uid 表示用户id
- 第二个: gid 表示用户组id
- 第三个: 组 表示用户所在的用户组
### 2. 设置密码

给其它用户设置密码，需要使用: **sudo passwd 用户名**

**设置密码效果图:**
![](Pasted%20image%2020231125125515.png)

### 3. 切换用户

|命令|说明|
|---|---|
|su|切换用户|

**语法格式: su - 用户名**

**切换用户效果图:**

![](Pasted%20image%2020231125125538.png)

**在laowang用户使用sudo -s效果图:**
![](Pasted%20image%2020231125125547.png)

解决办法:

- 给laowang用户设置一个sudo附加组， 需要使用usermod修改用户信息

### 4. 修改用户信息

|命令|说明|
|---|---|
|usermod|修改用户信息|

**usermod选项:**

|命令|说明|
|---|---|
|-G|设置一个附加组|
|-g|修改用户组|

**usermod命令效果图:**

![](Pasted%20image%2020231125125714.png)

**设置附加组sudo以后，在sudo -s切换到管理员用户效果图:**

![](Pasted%20image%2020231125125752.png)

### 5. 扩展: 删除附加组

|命令|说明|
|---|---|
|gpasswd|添加和删除附加组信息|

**gpasswd命令选项:**

|选项|说明|
|---|---|
|-a 用户名|给用户添加附加组|
|-d 用户名|给用户删除附加组|

**删除附加组效果图:**

![](Pasted%20image%2020231125125812.png)

**删除附加组再次使用 sudo -s 效果图:**

![](Pasted%20image%2020231125125819.png)

### 5. 删除用户

|命令|说明|
|---|---|
|userdel|删除用户|

**userdel命令选项:**

|选项|说明|
|---|---|
|-r 用户名|删除用户主目录，必须要设置，否则用户主目录不会删除|

**删除用户效果图:**

![](Pasted%20image%2020231125125834.png)

**id查看用户信息效果图:**
![](Pasted%20image%2020231125125847.png)

**查看group文件信息效果图:**
![](Pasted%20image%2020231125125859.png)
### 小结

- 创建用户命令格式: **sudo useradd -m 用户名**, 默认会创建一个同名的用户组。
- 查看用户信息使用 **id** 命令或者 **/etc/passwd文件**
- 查看用户组信息使用 **/etc/group文件**
- 给用户设置密码使用 **sudo passwd 用户名**
- 切换用户使用 **su - 用户名**
- 设置附加组使用 **sudo usermod -G** 组名 用户名
- 删除用户使用 **sudo userdel -r 用户名**，默认会删除同名的用户组。

# 用户组相关操作

### 1. 创建用户组

|命令|说明|
|---|---|
|groupadd|创建(添加)用户组|

- 创建用户组使用: **sudo groupadd 用户组名**
- 创建用户并指定用户组使用: **sudo useradd -m -g 用户组 用户名**
- 修改用户组使用: **sudo usermod -g 用户组 用户名**
- 删除用户组使用: **sudo groupdel 用户组名**

# 远程登录、远程拷贝命令

|命令|说明|
|---|---|
|ssh|远程登录|
|scp|远程拷贝|

### 2. ssh命令的使用

ssh是专门为远程登录提供的一个安全性协议，常用于远程登录，想要使用ssh服务，需要安装相应的服务端和客户端软件，当软件安装成功以后就可以使用ssh命令了，以后可以通过远程登录之间操作远程的服务器。

**远程登录效果图:**

![](Pasted%20image%2020231125130315.png)
**软件安装步骤:**

1. 假如Ubuntu作为服务端,需要安装ssh服务端软件. 执行命令: **sudo apt-get install openssh-server**
2. 客户端电脑如果是 **macOS** 系统则不需要安装 ssh 客户端软件，默认已经安装过了，**直接可以使用 ssh 命令**
3. 客户端电脑如果是Windows系统则需要安装**OpenSSH for Windows**这个软件

**ssh命令格式:**

ssh 用户名@ip地址

**ssh命令效果图:**

![](Pasted%20image%2020231125130324.png)

**说明:**

- 在一台电脑上可以安装安装ssh客户端和ssh服务端软件
- 在Ubuntu安装ssh客户端命令: sudo apt-get install openssh-client

### 3. scp命令的使用

scp是基于ssh进行远程文件拷贝的命令，也就是说需要保证服务端和客户端电脑安装了相应的ssh软件，以后可以把我们写代码远程拷贝到服务器。

**scp命令格式:**

- 远程拷贝文件
    - scp 本地文件 远程服务器用户名@远程服务器ip地址:指定拷贝到远程服务器的路径
    - scp 远程服务器用户名@远程服务器ip地址:远程服务器文件 指定拷贝到本地电脑的路径
- 远程拷贝目标
    - scp -r 本地目录 远程服务器用户名@远程服务器ip地址:指定拷贝到远程服务器的路径
    - scp -r 远程服务器用户名@远程服务器ip地址:远程服务器目录 指定拷贝到本地电脑的路径
    - -r 表示递归拷贝整个目录

**本地文件远程拷贝到服务器效果图:**

![](Pasted%20image%2020231125130420.png)

**服务器文件远程拷贝到本地效果图:**

![](Pasted%20image%2020231125130414.png)

**本地目录远程拷贝到服务器效果图:**
![](Pasted%20image%2020231125130406.png)

**服务器目录远程拷贝到本地效果图:**

![](Pasted%20image%2020231125130359.png)

### 4. FileZilla软件的使用

FileZilla 是一个免费开源的FTP软件, 使用可视化方式进行上传和下载文件。以后可以通过 FileZilla 来代替 **scp** 命令

**FileZilla使用效果图:**

![](Pasted%20image%2020231125130448.png)![](Pasted%20image%2020231125130454.png)![](Pasted%20image%2020231125130503.png)![](Pasted%20image%2020231125130508.png)



### 小结

- ssh命令是远程登录主机电脑，相当于直接操作的是远程电脑。
- scp命令是可以完成远程拷贝操作，注意:拷贝文件夹需要加-r选项。
- 大量的文件上传和下载可以通过可视化工具FileZilla来完成。

# 编辑器 vim

### 1. vim 的介绍

vim 是一款功能强大的文本编辑器，也是早年 Vi 编辑器的加强版，它的最大特色就是使用命令进行编辑，完全脱离了鼠标的操作。

### 2. vim 的工作模式

- 命令模式
- 编辑模式
- 末行模式

**说明:**

vim 打开文件进入的是命令模式

**工作模式效果图:**

![](Pasted%20image%2020231125130601.png)

**注意点:**

编辑模式和末行模式之间不能直接进行切换，都需要通过命令模式来完成。

### 3. vim 的末行模式命令

- :w 保存
- :wq 保存退出
- :x 保存退出
- :q! 强制退出

### 4. vim 的常用命令

|命令|说明|
|---|---|
|yy|复制光标所在行|
|p|粘贴|
|dd|删除/剪切当前行|
|V|按行选中|
|u|撤销|
|ctr+r|反撤销|
|>>|往右缩进|
|<<|往左缩进|
|:/搜索的内容|搜索指定内容|
|:%s/要替换的内容/替换后的内容/g|全局替换|
|:开始行数,结束行数s/要替换的内容/替换后的内容|局部替换|
|.|重复上一次命令操作|
|G|回到最后一行|
|gg|回到第一行|
|数字+G|回到指定行|
|shift+6|回到当前行的行首|
|shift+4|回到当前行的行末|
|ctr+f|下一屏|
|ctr+b|上一屏|

# Ubuntu软件安装

1. Ubuntu 操作系统安装软件有两种方式:
    - **sudo dpkg -i 安装包** 命令
    - **sudo apt-get install 安装包** 命令卸载
2. 使用 **apt-get** 命令也就是在线安装需要更改镜像源，提高下载和安装速度。

### 软件卸载

### deb 文件格式卸载

**命令格式:**

**sudo dpkg –r 安装包名**

-r 选项表示安装的卸载

### apt-get 方式卸载

**命令格式:**

**sudo apt-get remove 安装包名**