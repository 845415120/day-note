<blockquote>
<p><strong>可在下方连接中关注原账号</strong> 
原文链接：<a href="https://jelly.jd.com/article/65260815c2ebc8004aaaf7e9">JELLY DESIGN | 京东零售官方设计共享平台</a></p>
</blockquote>
<p>本文公开了首个Joy的Lora模型，同时将带领到家利用Stable diffusion生成高质量的Joy海报。文章将从SD的各个参数进行讲解，如模型放置、模型使用、提示词编辑、渲染器选择选择、算法选择等，帮助大家最终实现Joy的海报生成。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724605935-14d1a7ce-10d4-450a-a31b-afe00fc87f95.png#averageHue=%231d3012&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u77474e28&amp;originHeight=600&amp;originWidth=1410&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ud7ec93de-4f1a-41a1-9eac-476f8d6734e&amp;title=" alt=""><br><strong>接上一篇文章 “只要10秒，AI生成IP海报，解放双手”，这次是全网第一个“共享joy 模型”，真的赚到了</strong> <br>经过这段时间无数次的探索、试错、实验，最终积累了非常多的训练经验，在不同IP角色的训练上实际上需要调试非常多的参数以及素材。本次成功完成了Joy的Lora模型，虽然在泛化以及场景上未来还有着很多的空间，但是本次的模型已经可以帮助大家完成大部分的运用场景，<strong>今天无论你是设计师，还是产品，还是运营，还是研发，你都将可以实现Joy的海报生成</strong> ，接下来我将为大家讲一讲如何实现。</p>
<p><strong>老样子先来看看实际的效果吧！！！</strong> <br><strong>生成过程</strong> <br><img src="https://cdn.nlark.com/yuque/0/2023/gif/275935/1697724605801-e3433318-4163-4da9-aab7-4c48f002885f.gif#averageHue=%23141e27&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u9e0fd0b6&amp;originHeight=501&amp;originWidth=1008&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u0079ac14-be7a-4877-bccf-cdc9abba328&amp;title=" alt=""><br><strong>模型生成海报</strong> <br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724605997-551f52fa-90f8-4f8d-b3e3-331ae4a35855.png#averageHue=%2331331a&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=uf49806bf&amp;originHeight=1536&amp;originWidth=1024&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u7e1a3beb-e0d0-4bde-a6b2-fa56e013800&amp;title=" alt=""><br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724606987-cf353b52-1c42-42cc-8ce7-c9b2fae628c6.png#averageHue=%236a7143&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=ubc682628&amp;originHeight=1536&amp;originWidth=1024&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=uc9e5450d-dfb1-4888-a07b-c22f7cb5c97&amp;title=" alt=""><br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724605972-e72d55d7-ef3e-47b0-af04-3f412c67d97f.png#averageHue=%237b805c&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=ufb479706&amp;originHeight=1536&amp;originWidth=1024&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u4f73ca3d-0824-4316-9f76-a672e425a45&amp;title=" alt=""><br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724606827-bbffc306-824e-414d-a080-62d396f77b03.png#averageHue=%23704340&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=uc47e9ab6&amp;originHeight=1536&amp;originWidth=1024&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u16319aed-4736-4212-9aa0-cb1523f6313&amp;title=" alt=""><br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724606847-50801e8f-9344-472d-9387-9e88ba200d87.png#averageHue=%231a1a34&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=uc646b21e&amp;originHeight=1536&amp;originWidth=1024&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ub20ad314-8be9-47be-817a-6df3f8e3c82&amp;title=" alt=""><br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724606842-a709d036-b070-4bf9-b095-c66ddfe8ea5a.png#averageHue=%2354603f&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u7227e565&amp;originHeight=1536&amp;originWidth=1024&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u8ab249b4-2ebb-4a61-b073-84c2c57b02c&amp;title=" alt=""><br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607176-a67fb1bd-af1a-4733-b44f-68f0236998e3.png#averageHue=%23a1b093&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u3f19e6ae&amp;originHeight=944&amp;originWidth=1334&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u74c82820-e9cb-426f-9944-02b8be9d136&amp;title=" alt=""><br><strong>接下来就来和大家讲一讲如何通过SD来生成Joy吧～</strong> 
<a name="Q1PJi"></a></p>
<h4 id="1、准备工作（在开始之前，请大家下载好本次生成需要使用到的模型）"><strong>1、准备工作（在开始之前，请大家下载好本次生成需要使用到的模型）</strong></h4>
<p>1、底模：revAnimated_v122EOL.safetensors：<a href="https://civitai.com/">https://civitai.com/</a> 或 <a href="http://pan.jd.com/sharedInfo/A73A7A2071C859BFEEC946AFBC5707A7">下载链接</a>（开源底模型）<br>2、VAE：vae-ft-mse-840000-ema-pruned：<a href="https://civitai.com/">https://civitai.com/</a> 或 <a href="http://pan.jd.com/sharedInfo/A73A7A2071C859BFEEC946AFBC5707A7">下载链接</a>（开源VAE，其他VAE也可以）<br>3、京东Joy-Lora模型： <a href="https://joyspace.jd.com/pages/1nfmIt90VC45a212542c">下载链接</a> （⚠️申请下载需进行京东内部审核，非京东同学禁止下载或商用，以免被追法律责任）<br>4、京东Joy-起手式（prompt模版）： <a href="https://joyspace.jd.com/pages/1nfmIt90VC45a212542c">下载链接</a> （⚠️申请下载需进行京东内部审核）</p>
<p><strong>2、放置模型</strong> <br>1、底模：stable-diffusion-webui——models——Stable-diffusion<br>2、VAE：stable-diffusion-webui——models——VAE<br>3、京东Joy-Lora模型：stable-diffusion-webui——models——Lora<br>4、京东Joy-起手式：stable-diffusion-webui</p>
<p><strong>3、打开SD</strong> （⚠️如果还不知道如何配置SD的同学可以看我之前的文章：“<a href="http://xingyun.jd.com/shendeng/article/detail/19477?isHideShareButton=1&amp;jdme_router=jdme%3A%2F%2Fweb%2F202206081297%3Furl%3Dhttp%3A%2F%2Fsd.jd.com%2Farticle%2F19477%3FisHideShareButton%3D1">只要10秒，AI生成IP海报，解放双手</a>”）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607367-daa04338-c9c5-419b-8bd7-750bdf3b56ea.png#averageHue=%23171c26&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=udf818516&amp;originHeight=1790&amp;originWidth=4082&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u310125c1-af39-4dbc-bd1c-c43256b50d2&amp;title=" alt=""><br><strong>4、模型设置</strong> <br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607404-76dc2a75-ee96-4674-a70b-f814a0efc58b.png#averageHue=%23212631&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u4d98dc3f&amp;originHeight=164&amp;originWidth=1610&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u8bf586a2-33dc-41a8-817d-0681991cd65&amp;title=" alt=""><br>1、我们需要在Stable Diffusion模型中选择我们下载好的模型：revAnimated_v122EOL（当然这是我目前测试下来效果较好的底膜，你也可以下载并使用别的底膜进行尝试）
<a name="jX1Ws"></a></p>
<h4 id="2、在模型的vae中选择：vae-ft-mse-840000-ema-pruned（这个vae的饱和度比较好一些，其他的vae会使画面较灰）">2、在模型的VAE中选择：vae-ft-mse-840000-ema-pruned（这个VAE的饱和度比较好一些，其他的VAE会使画面较灰）</h4>
<p><strong>5、Prompt使用</strong> <br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607444-996a6b6e-2832-4744-a4f5-ee40f7a8f074.png#averageHue=%231e2530&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u01643b74&amp;originHeight=484&amp;originWidth=3338&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ue6217320-56ff-41e7-ac17-91e7100ee75&amp;title=" alt=""><br>本次我已将Joy的基础Prompt设置成了模版（Joy起手式），后续大家可以根据自己想要的画面进行调整，我会讲一下本次Prompt的基础构成<br>1、正向词：正向词中只要分为3类，触发词+提示词+LoRA（越靠前的词汇权重就会越高）<br>• Joy的触发词为<strong>joy(ip)</strong> ：只有输入这个触发词，画面中才会出现joy的形象<br>• 提示词：在提示词中主要分为<strong>自然语言+单词描述</strong> ：用自然语言来形容Joy具体在做什么（如：joy ip is standing on the stone，jumping，sitting等，建议使用进行时）；用单词来形容画面中其他需要的元素（如：outdoors, day, grass, leaf, tree, flower, sunshine，等）<br>• Lora权重：权重进过我的测试，最高的效果是0.7，所以在Joy的lora模型上<strong>无脑设置0.7</strong> <br>2、负向词：主要描述你不想要的内容（如：lowres, bad anatomy, bad eyes, bad hands等，如果在生成过程中出现了你不想要的内容也可以在后续继续补充）<br><strong>6、设置采样方式、采样迭代步数、尺寸、生成批次&amp;数量</strong> <br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607559-7fcc513c-4f2c-445a-826e-87fa1f80593d.png#averageHue=%23141721&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u02a10ab0&amp;originHeight=430&amp;originWidth=1980&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=uc6295e51-59b1-4302-8d4a-7801c0c0820&amp;title=" alt=""><br>• 采样方式上我们选择：DPM++ SDE Karras<br>• 采样迭代步数：24-28之间（<strong>更具画面的复杂程度进行调试</strong> ，如果画面元素较多则可以以4的倍数向上增加，<strong>需要注意在改变了步数以后会让画面产生变化</strong> ）<br>• 尺寸：<strong>一般使用64的倍数</strong> ，常用的尺寸如512<em>768（2:3），768</em>512（3:2），512<em>512（1:1），768</em>1152（2:3），1152<em>768（3:2），不限于这些尺寸，只是说这些尺寸下抽卡出现好画面的几率更高一些<br>•生成批次、每批数量：在*<em>前期抽卡阶段</em></em> （没有开高清修复阶段），可以<strong>把生成数量提高，来寻找喜欢的画面</strong> ，在<strong>找到自己喜欢的画面后则需要设1</strong> 去更精细化的抽卡<br><strong>7、提示词相关性</strong> <br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607698-71ab9e69-87fb-4040-af0d-11f6a6b068e8.png#averageHue=%230f131c&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u465ecc6b&amp;originHeight=116&amp;originWidth=1994&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=uf4a6f69d-fe8d-4d50-b8de-866cbf7e222&amp;title=" alt=""><br>1、提示词相关性：3-5之间效果更佳，<strong>如果没有出现IP可能是因为场景权重过高导致IP消失，可以尝试降低相关性或减少场景描述</strong> ，提示词相关性是影响画面元素的非常重要的参数之一（其他影响的因素还有，迭代步数，重绘幅度，以及尺寸）</p>
<p><strong>8、抽卡环节（快乐时间来了）</strong> <br>我们只需要嗑着瓜子，看着电视或者坐着别的事情，去挑一个<strong>动作、构图、元素、画面大致满意的底图</strong> （来作为后续打开高清的基础）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607820-8db75c28-0158-46f9-96e0-cfa82d567da9.png#averageHue=%2320252d&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=ub3eddfe0&amp;originHeight=1050&amp;originWidth=3972&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ub9cad4a4-b314-4325-97c6-6d2fee1008b&amp;title=" alt=""><br><strong>9、开启高清修复（完成一幅Joy大作）</strong> <br>在我们选出我们满意的底图后，需要做的就是<strong>锁定我们的seed，打开高清修复，调整我们的重绘幅度</strong> （重回幅度会影响画面变化的幅度，越低则变化越小，越高则变化越大）<br>• 锁定我们的seed值<br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607894-38e55533-3ba8-4ff3-bb09-6eb51c36a650.png#averageHue=%231a1f2a&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u1175d661&amp;originHeight=154&amp;originWidth=1990&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u97def846-e452-49eb-9b2f-1e296fe54f6&amp;title=" alt=""><br>• 将我们的放大算法改为：<strong>R-ESRGAN 4x+</strong> ，调整重绘幅度0.1-0.7<br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607945-7bdaff27-f404-4f8b-87f6-b502b4bd04bf.png#averageHue=%23161b24&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=u5785d5e0&amp;originHeight=158&amp;originWidth=1996&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u9443056a-208b-4cee-929b-a39fdc98a9a&amp;title=" alt=""><br>• 保存我们想要的图<br><img src="https://cdn.nlark.com/yuque/0/2023/png/275935/1697724607988-5982d05d-e728-4ff3-9481-8994cd171c46.png#averageHue=%231e222b&amp;clientId=uda74a259-7972-4&amp;from=paste&amp;id=ubca74cec&amp;originHeight=1032&amp;originWidth=3938&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u6d1f8a0f-94d4-43ae-bb53-f7fd192b50a&amp;title=" alt=""><br>如果你<strong>已经使用Joy模型</strong> 并抽到了一些好的效果，可在评论区留言反馈，也希望和大家有更多的交流和学习，感谢大家支持哦！！<br><strong>京ME：SD小灶群：10205212678</strong> </p>
