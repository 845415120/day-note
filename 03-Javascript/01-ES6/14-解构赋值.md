---
时间: 11分
作者: "\r技术蛋老师"
标题: 25个解构赋值
图片: https://i1.hdslb.com/bfs/archive/57b330071a4a7dc5734c69204d6b9c0cb7fda624.jpg@480w_300h_1c_!web-space-channel-video.webp
链接: https://www.bilibili.com/video/BV1wY411T7oJ
评价: ★★★★★
---
## 解构赋值

解构赋值是对赋值运算符的一种扩展。它通常针对数组和对象进行操作。

> 优点：代码书写简洁且易读性高

### 数组解构

在以前，为变量赋值，只能直接指定值

```js
let a = 1;
let b = 2;
let c = 3;
复制代码
```

ES6允许我们这样写:

```js
let [a,b,c] = [1,2,3];
复制代码
```

> 如果解构不成功，变量的值就等于`undefined`

```js
let [foo] = [];
let [bar, foo] = [1];
复制代码
foo`的值都会等于`undefined
```

### 对象解构

解构可以用于对象

```bash
let node = {
    type:'identifier',
    name:'foo'
}

let {type,name} = node;
console.log(type,name)//identifier foo
复制代码
```

对象的解构赋值时，可以对属性忽略和使用剩余运算符

```css
let obj = {
    a:{
        name:'张三'
    },
    b:[],
    c:'hello world'
}
//可忽略 忽略b,c属性
let {a} = obj;
//剩余运算符 使用此法将其它属性展开到一个对象中存储
let {a,...res} = obj;
console.log(a,res);
复制代码
```

**默认值**

```css
let {a,b = 10} = {a:20};
复制代码
```

### 函数参数解构赋值

直接看例子

```js
function add([x, y]){
  return x + y;
}

add([1, 2]); // 3
复制代码
```

使用默认值

```js
function addCart(n,num=0){
    
    return n+num;
}
addCart(10);//10
addCart(10,20); //30
复制代码
```

### 用途

- 交换变量的值

  ```js
  let x = 1;
  let y = 2;
  let [x,y] = [y,x];
  复制代码
  ```

  上面代码交换变量`x`和`y`的值，这样的写法不仅简洁，而且易读，语义非常清晰。

- 从函数返回多个值

  函数只能返回一个值，如果要返回多个值，只能将它们放在数组或对象里返回。有了解构赋值，取出这些值就非常方便。

  ```js
  // 返回一个数组
  
  function example() {
    return [1, 2, 3];
  }
  let [a, b, c] = example();
  
  // 返回一个对象
  
  function example() {
    return {
      foo: 1,
      bar: 2
    };
  }
  let { foo, bar } = example();
  复制代码
  ```

- 函数参数的定义

  解构赋值可以方便地将一组参数与变量名对应起来。

  ```js
  // 参数是一组有次序的值
  function f([x, y, z]) { ... }
  f([1, 2, 3]);
  
  // 参数是一组无次序的值
  function f({x, y, z}) { ... }
  f({z: 3, y: 2, x: 1});
  复制代码
  ```

- 提取JSON数据

  解构赋值对提取 JSON 对象中的数据，尤其有用

  ```typescript
  let jsonData = {
    id: 42,
    status: "OK",
    data: [867, 5309]
  };
  
  let { id, status, data: number } = jsonData;
  //对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者
  console.log(id, status, number);
  // 42, "OK", [867, 5309]
  复制代码
  ```

- 函数参数的默认值

- 输入模块的指定方法

  加载模块时，往往需要指定输入哪些方法。解构赋值使得输入语句非常清晰。

  ```scss
  const {ajax} = require('xxx')
  
  ajax()
  复制代码
  ```
