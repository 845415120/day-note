---
时间: 11分
作者: "\r技术蛋老师"
标题: 跨域
图片: https://i0.hdslb.com/bfs/archive/92a5b8255170f5413cc4b25afb0871c7752de8f7.jpg@480w_300h_1c_!web-space-channel-video.webp
链接: https://www.bilibili.com/video/BV1Ei4y1o7jK
评价: ★★★★★
---
## Ajax跨域解决方案

浏览器同源策略
协议、域名、端口号

### CORS

服务端通过对响应头的设置，接收跨域请求处理

```JavaScript
app.all('*', function (req, res, next) {
// 设置可以接收请求的域名
res.header('Access-Control-Allow-Origin', 'http://localhost:4000');
// 是否可以携带cookie
res.header('Access-Control-Allow-Credentials', true);
res.header('Access-Control-Allow-Headers', 'Content-Type');
res.header('Access-Control-Allow-Methods', '*');
res.header('Content-Type', 'application/json;charset=utf-8');
next();
});
```

### JSONP

- 在网页中动态添加一个script标签，通过script标签向服务器发送请求，在请求中会携带一个请求的callback回调函数名。
- 服务器在接收到请求后，会处理响应获取返回的参数，然后将参数放在callback回调函数中对应的位置，并将callback回调函数通过json
格式进行返回。

# CSRF跨站请求伪造

Get 请求不对数据进⾏修改

不让第三⽅⽹站访问到⽤户 Cookie

请求时附带验证信息，⽐如验证码或者 token