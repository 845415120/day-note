## 1. 前言

### 1.1 项目地址

项目地址：[imsyy/DailyHotApi: 今日热榜 API，一个聚合热门数据的 API 接口，支持 Vercel 部署](https://github.com/imsyy/DailyHotApi)

Docker-API：[liwangsheng/dailyhot-api – Docker Image | Docker Hub](https://hub.docker.com/r/liwangsheng/dailyhot-api)

Docker - 前端：[liwangsheng/dailyhot-web – Docker Image | Docker Hub](https://hub.docker.com/r/liwangsheng/dailyhot-web)

调用的接口十分丰富，哔哩哔哩、微博、抖音、知乎、百度等平台都收录在内！

展示：

![](https://pic2.zhimg.com/v2-8d5b16a3ce747aa17a9d649cec1fb145_r.jpg)

### 1.2 环境准备

官方的部署方式是不需要 docker 的，我们这里使用第三方的 docker 进行部署。

docker/docker-compose 的安装可以参考夜梦的这篇文章：[在服务器上安装 docker/docker-compose](https://tech.yemengstar.com/?p=536)

### 1.3 服务器准备

夜梦推荐使用雨云服务器，优惠链接（9 折 + 10 元优惠券）：[https://www.rainyun.com/](https://www.rainyun.com/YeMeng_)

其他服务器可以参考夜梦的这篇测评文章：[服务器推荐以及测评](https://tech.yemengstar.com/?p=5865)

## 2. 部署 API

### 2.1 vercel 部署

夜梦这里推荐使用 **VERCEL** 进行部署，这样以后迁移前端的时候不会影响 API 的使用。

先在 GitHub 上面 fork 一份项目到自己的仓库中。

GitHub 地址：[imsyy/DailyHotApi: 今日热榜 API](https://github.com/imsyy/DailyHotApi)

在 `Vercel` 官网点击 `New Project`

![](https://pic1.zhimg.com/v2-ab9847eca1e3c85186da53de12aa6948_r.jpg)

![](https://pic1.zhimg.com/v2-b2d432893c832fd0f2019dade19fa338_b.jpg)

点击 `Import Git Repository` 并选择你 fork 的此项目并点击 `import`

![](https://pic2.zhimg.com/v2-dba3ecc60a41764b27484d4bc249d979_r.jpg)

`PROJECT NAME`自己填，`FRAMEWORK PRESET` 选 `Other` 然后直接点 `Deploy` 接着等部署完成即可

![](https://pic3.zhimg.com/v2-ebb402f31704912a59c0b8c8d18792f6_r.jpg)

![](https://pic4.zhimg.com/v2-11e56994b2994bd23f0e310f933df3db_r.jpg)

部署完成后，访问 VERCEL 给你的域名就可以进入 API 接口的页面。

![](https://pic2.zhimg.com/v2-f99724d56bd8ab2fc7ae97e7c7558b15_r.jpg)

未设置自定义域名将无法使用 API，所以请添加自己的域名到 vercel 中。

![](https://pic2.zhimg.com/v2-01130118b20442feb6dd44ea5d365735_r.jpg)

### 2.2docker部署

当然你也可以直接使用docker部署API：

```text
docker run -d \
    --name dailyhot-api \
    --restart always \
    -p 6688:6688 \
    liwangsheng/dailyhot-api
```

## 3.部署前端

前端推荐使用docker-compose部署，修改配置比较方便。

新建文件夹

```text
mkdir dailyhot && cd dailyhot
```

创建配置文件：

```text
vim docker-compose.yml
```

修改配置文件：

```text
version: '3'
services:
  dailyhot-web:
    image: liwangsheng/dailyhot-web
    container_name: dailyhot-web
    ports:
      - "6677:80"
    environment:
      - API=https://hot-api.bbit.fun  # API的URL后面不要加/，如果是本地部署的API，填http://ip:6688
      - ICP=夜梦没有备案捏 # 有就填
    restart: always
```

最后启动即可

```text
docker-compose up -d
```