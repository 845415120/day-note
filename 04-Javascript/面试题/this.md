---
标题: 
图片: data:image/png;base64,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
链接: 
时时: 
评价: 
tags:
---
this ，函数执⾏的上下⽂，可以通过 apply ， call ， bind 改变 this 的指向。对于匿名函数或者直接调⽤的函数来说，this指向全局对象（浏览 器为window，NodeJS为 global ），剩下的函数调⽤，那就是谁调⽤它， this 就指向谁。当然还有es6的箭头函数，箭头函数的指向取决于该箭头函 数声明的位置，在哪⾥声明， this 就指向哪⾥
 
# 如何确定this的值

1.全局执行环境中，指向全局对象（非严格模式、严格模式）都是 window
```js
'use strict'
console.log(this); //window

console.log(this)  //window
```
2.函数内部，取决于函数被调用的方式
    1.直接调用的this值：
        非严格模式：全局对象(window)
        严格模式：undefined
    2.对象方法调用的this值：
        ①调用者
```js
非严格模式
    function fun () {
      console.log(this) //window
    }
    fun()
 严格模式
     function fun () {
       'use strict'   	
      console.log(this)//undefined
    }
    fun()
```

```js
对象方法调用的this值
const food ={
   name:'猪脚饭',
   eat(){
      console.log(this);
    }
 }
 
  food.eat()// 调用者 food 对象 {name: '猪脚饭', eat: ƒ}
	
```

##  this指向对象实例

当通过new操作符调用构造函数生成对象的实例时，this指向该实例。


## 5. 闭包中的this

函数的this变量只能被自身访问，其内部函数无法访问。因此在遇到闭包时，闭包内部的this关键字无法访问到外部函数的this变量。

```jsx
1  var user = {
2      sport: 'basketball',
3      data: [
4          {name: "kingx1", age: 11},
5          {name: "kingx2", age: 12}
6      ],
7      clickHandler: function () {
8        // 此时的this指向的是user对象
9          this.data.forEach(function (person) {
10             console.log(this);  // [object Window]
11             console.log(person.name + ' is playing ' + this.sport); 
12         })
13     }
14 };
15 user.clickHandler();
```

# 指定this的值

```js
 function func (numA,numB){
  	console.log(this)
  	console.log(numA,numB)
  	}
  const person = {
    name:'jiang'
}
  func.call(person,1,2)
```
# 1.调用时指定：
    1.call方法
    2.appy方法
### call :挨个传入参数
```js
func.call(person,1,2)
```
### apply :以数组的方式传入
```js
func.apply(person,[3,4])
```
## 2.创建时指定：
    1.bind方法
    2.箭头函数
### bind方法
```js
const bindFunc = func.bind(person,666)
	bindFunc(888)
```
### 箭头函数
```js
const food = {
	eat(){
		console.log(this)
		setTimeout(()=>{
		console.log(this)
	},1000)
    }
}
food.eat()
```

# 手写call方法
```js
    // 1.定义Call方法
    //3.接收剩余参数并返回结果
    Function.prototype.myCall = function (thisArg, ...args) {
      //2,设置this并调用原函数
      //thisArg传入的设置为this的对象
      //this原函数（原函数.myCall)
      // 4.使用Symbol
      const key = Symbol("key")
      thisArg[key] = this
      const res = thisArg[key](...args)
      delete thisArg[key]
      return res
    }
```

## call()函数的基本使用

call()函数调用一个函数时，会将该函数的执行对象上下文改变为另一个对象。其语法如下所示。

```jsx
function.call(thisArg, arg1, arg2, ...)
*function为需要调用的函数。
* thisArg表示的是新的对象上下文，函数中的this将指向thisArg，
  如果thisArg为null或者undefined，则this会指向全局对象。
* arg1，arg2，...表示的是函数所接收的参数列表。

//我们可以通过下面的实例看看call()函数的用法。
// 定义一个add()函数
function add(x, y) {
   return x + y;
}
// 通过call()函数进行add()函数的调用
function myAddCall(x, y) {
   // 调用add()函数的call()函数
   return add.call(this, x, y);
}
console.log(myAddCall(10, 20));    //输出“30”
```

## apply()函数的基本使用

apply()函数的作用域与call()函数是一致的，只是在传递参数的形式上存在差别。其语法格式如下。

```jsx
function.apply(thisArg, [argsArray])
 * function与thisArg参数与call()函数中的解释一样。
* [argsArray]表示的是参数会通过数组的形式进行传递，
如果argsArray不是一个有效的数组或者arguments对象  ，则会抛出一个TypeError异常。
//要想实现与call()函数中一样的实例效果，可以使用apply()函数编写以下代码。
//定义一个add()函数
function add(x, y) {
   return x + y;
}
// 通过apply()函数进行add()函数的调用
function myAddApply(x, y) {
   // 调用add()函数的apply()函数
   return add.apply(this, [x, y]);
}
console.log(myAddApply(10, 20));    //输出“30”

与call()函数相比，apply()函数只需要将add()函数接收的参数使用数组的形式传递即可，
即使用[x, y]的形式，运行后的结果为10 + 20 = 30。
```

## bind()函数的基本使用

bind()函数创建一个新的函数，在调用时设置this关键字为提供的值，在执行新函数时，将给定的参数列表作为原函数的参数序列，从前往后匹配。其语法格式如下。

```jsx
function.bind(thisArg, arg1, arg2, ...)
  事实上，bind()函数与call()函数接收的参数是一样的。
其返回值是原函数的副本，并拥有指定的this值和初始参数。
//定义一个add()函数
function add(x, y) {
   return x + y;
}
// 通过bind()函数进行add()函数的调用
function myAddBind(x, y) {
   // 通过bind()函数得到一个新的函数
   var bindAddFn = add.bind(this, x, y);
   // 执行新的函数
   return bindAddFn();
}
console.log(myAddBind(10, 20));    //输出“30”
```

## call()函数、apply()函数、bind()函数的巧妙用法

## 1. 求数组中的最大项和最小项

```jsx
var arr = [3, 5, 7, 2, 9, 11];
// 求数组中的最大值
console.log(Math.max.apply(null, arr));  // 11
// 求数组中的最小值
console.log(Math.min.apply(null, arr));  // 2
```

apply()函数的第一个参数为null，这是因为没有对象去调用这个函数，我们只需要这个函数帮助我们运算，得到返回结果。

第二个参数是数组本身，就是需要参与max()函数和min()函数运算的数据，运算结束后得到返回值，表示数组的最大值和最小值。

## 2. 类数组对象转换为数组对象

函数的参数对象arguments是一个类数组对象，自身不能直接调用数组的方法，但是我们可以借助call()函数，让arguments对象调用数组的slice()函数，从而得到一个真实的数组，后面就能调用数组的函数。

```jsx
// 任意个数字的求和
function sum() {
   // 将传递的参数转换为数组
   var arr = Array.prototype.slice.call(arguments);
   // 调用数组的reduce()函数
   return arr.reduce(function (pre, cur) {
       return pre + cur;
   }, 0)
}

sum(1, 2);       // 3
sum(1, 2, 3);    // 6
sum(1, 2, 3, 4); // 10
```

## 3. 用于继承

```jsx
// 父类
function Animal(age) {
   // 属性
   this.age = age;
   // 实例函数
   this.sleep = function () {
       return this.name + '正在睡觉！';
   }
}
// 子类
function Cat(name, age) {
   // 使用call()函数实现继承
   Animal.call(this, age);
   this.name = name || 'tom';
}

var cat = new Cat('tony', 11);
console.log(cat.sleep());  // tony正在睡觉！
console.log(cat.age);  // 11
```

## 4. 执行匿名函数

```jsx
var animals = [
   {species: 'Lion', name: 'King'},
   {species: 'Whale', name: 'Fail'}
];
for (var i = 0; i < animals.length; i++) {
   (function (i) {
       this.print = function () {
           console.log('#' + i + ' ' + this.species + ': ' + this.name);
       };
       this.print();
   }).call(animals[i], i);
}
```

## 5. bind()函数配合setTimeout

在默认情况下，使用setTimeout()函数时，this关键字会指向全局对象window。当使用类的函数时，需要this引用类的实例，我们可能需要显式地把this绑定到回调函数以便继续使用实例。

```jsx
// 定义一个函数
function LateBloomer() {
   this.petalCount = Math.ceil(Math.random() * 12) + 1;
}
// 定义一个原型函数
LateBloomer.prototype.bloom = function () {
   // 在一秒后调用实例的declare()函数，很关键的一句
   window.setTimeout(this.declare.bind(this), 1000);
};
// 定义原型上的declare()函数
LateBloomer.prototype.declare = function () {
   console.log('I am a beautiful ﬂower with ' + this.petalCount + ' petals!');
};
// 生成LateBloomer的实例
var ﬂower = new LateBloomer();
ﬂower.bloom();  // 1秒后，调用declare()函数
```