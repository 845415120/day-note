# 前端性能优化

1. 网络请求优化。
2. 首屏加载优化。
3. 渲染过程优化。

### 1. 网络请求优化

网络请求优化的目标在于减少网络资源的请求和加载耗时

1. 请求链路：DNS 查询、部署 CDN 节点、缓存等。
   1. 对于请求链路，核心的方案常常包括使用缓存，比如 DNS 缓存、CDN 缓存、HTTP 缓存、后台缓存等等
   2. 对多个请求进行合并，减少通信次数
   3. 对请求进行域名拆分，提升并发请求数量
2. 数据大小：代码大小、图片资源等。
   1. 数据大小则主要考对请求资源进行合理的拆分（CSS、Javascript 脚本、图片/音频/视频等）和压缩，减少请求资源的体积
   2. 在请求资源返回后，浏览器会进行解析和加载，这个过程会影响页面的可见时间，通过对**首屏加载**的优化，可有效地提升用户体验。

## 首屏加载优化

1. 首屏加载优化 首屏加载优化核心点在于两部分：
2. 将页面内容尽快地展示给用户，减少页面白屏时间。
3. 将用户可操作的时间尽量提前，避免用户无法操作的卡顿体验。
   1. 考虑使用一些过渡的动画，让用户感知到页面正在顺利加载，从而避免用户对于白屏页面或是静止页面产生烦躁和困惑

**尽可能提前页面可见**，以及将用户可交互的时间提前。一般来说，我们需要尽可能地降低首屏需要的代码量和执行耗时，可以通过以下方式进行：

- 对页面的内容进行分片/分屏加载
- 仅加载需要的资源，通过异步或是懒加载的方式加载剩余资源
- 使用骨架屏进行预渲染
- 使用差异化服务，比如读写分离，对于不同场景按需加载所需要的模块
- 使用服务端直出渲染，减少页面二次请求和渲染的耗时

在客户端进行展示，此时可充分利用客户端的优势：

- 配合客户端进行资源预请求和预加载，比如使用预热 Web 容器
- 配合客户端将资源和数据进行离线，可用于下一次页面的快速渲染
- 使用秒看技术，通过生成预览图片的方式提前将页面内容提供给用户



# ⽹站性能优化

### css ⽅⾯

将样式表放到⻚⾯顶部

不使⽤ CSS 表达式

使⽤  不使⽤ @import

### Javascript ⽅⾯

将脚本放到⻚⾯底部

将 javascript 和 css 从外部引⼊

压缩 javascript 和 css

删除不需要的脚本

减少 DOM 访问

### 图⽚⽅⾯

优化图⽚：根据实际颜⾊需要选择⾊深、压缩

优化 css 精灵

不要在 HTML 中拉伸图⽚

### content ⽅⾯

减少 HTTP 请求：合并⽂件、 CSS 精灵、 inline Image 

减少 DNS 查询： DNS 缓存、将资源分布到恰当数量的主机名

 减少 DOM 元素数量