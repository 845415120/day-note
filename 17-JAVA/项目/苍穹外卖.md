# 黑马程序员2023最新Java项目实战《苍穹外卖》
 # 苍穹外卖项目（12天）分布如下：

	第一章：环境搭建（1天）
		day01：项目概述、环境搭建
	第二章：基础数据维护（3天）
		day02：员工管理、分类管理
		day03: 菜品管理
		day04：项目实战（套餐管理）
	第三章：点餐业务（6天）
		day05：店铺营业状态设置
		day06：微信登录、商品浏览
		day07：缓存商品、购物车
		day08: 用户下单、订单支付
		day09: 项目实战（历史订单、订单管理）
		day10: 订单状态定时处理、来单提醒和客户催单
	第四章：数据统计（2天）
		day11: 数据统计（图形报表）
		day12: 数据统计（Excel报表）

能力目标：
- 需求分析能力
  1. 有能力根据产品原型进行需求分析
  2. 有能力根据产品原型分析出对应接口
- 设计能力
  1. 能够根据产品原型设计简单的数据库模型
  2. 能够根据产品原型进行接口设计
  3. 能够根据产品原型设计DTO和VO
- 编码能力
  2. 能够熟练应用SpringBoot、Springmvc、mybatis等基础框架
  3. 熟练掌握SQL的编写
  4. 能够根据开发文档开发简单的单体项目
  5. 能够对前端代码进行打包和运行
  6. 能够修改和后端服务交互的前端代码
- 自学能力
  1. 能够根据第三方服务提供的开发文档编写例子程序
  2. 能够根据第三方服务提供的开发文档自学并应用到项目中

了解java web、spring、mybatis、mysql、maven的初学者

# 苍穹外卖-day01

当我们完成该项目的学习，可以培养以下能力：🎯

![image-20221106161507973](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106161507973.png)
## 1. 软件开发流程

![image-20221106162815172](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106162815172.png)
#  项目介绍

项目介绍

1. 本项目（苍穹外卖）是专门为**餐饮企业**（餐厅、饭店）定制的一款软件产品，包括 系统管理后台 💻 和 小程序端应用📱 两部分。
2. 💻其中系统管理后台主要提供给餐饮企业内部员工使用，可以对餐厅的分类、菜品、套餐、订单、员工等进行管理维护，对餐厅的各类数据进行统计，同时也可进行来单语音播报功能。
3. 📱小程序端主要提供给消费者使用，可以在线浏览菜品、添加购物车、下单、支付、催单等。

![image-20221106185252326](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106185252326.png)


接下来，通过功能架构图来展示**管理端**和**用户端**的具体业务功能模块。

![image-20221106194424735](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106194424735.png)


##  技术选型 


关于本项目的技术选型, 我们将会从 用户层、网关层、应用层、数据层 这几个方面进行介绍，主要用于展示项目中使用到的技术框架和中间件等。
![](Pasted%20image%2020231031122717.png)
### **1). 用户层**

前端工程师

本项目中在构建系统管理后台的前端页面，我们会用到H5、Vue.js、ElementUI、apache echarts(展示图表) 等技术。而在构建移动端应用时，我们会使用到微信小程序。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-41-19.png)

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-41-52.png)

### **2). 网关层**

**Nginx是一个服务器**，主要用来作为Http服务器，**部署静态资源**，访问性能高。在Nginx中还有两个比较重要的作用： [反向代理和负载均衡](http://www.yangeit.cn:21010/takeoutproject_optimize2021/day02.html#_3-3-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86)， 在进行项目部署时，要实现Tomcat的负载均衡，就可以通过Nginx来实现。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-42-19.png)

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-42-34.png)

### **3). 应用层**

**SpringBoot** 企业实用： 快速构建Spring项目, 采用 "约定优于配置" 的思想, 简化**Spring**项目的配置开发。
![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-43-08.png)

**SpringMVC**  配置繁琐：SpringMVC是spring框架的一个模块，springmvc和spring无需通过中间整合层进行整合，可以无缝集成。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-43-27.png)

Spring Task: 由Spring提供的定时任务框架。

httpclient : 主要实现了对http请求的发送。

Spring Cache: 由Spring提供的数据缓存框架

**JWT** 安全性高: 用于对应用程序上的用户进行身份验证的标记。

阿里云OSS: 对象存储服务，在项目中主要存储文件，如图片等。

Swagger企业实用： 可以自动的帮助开发人员生成接口文档，并对接口进行测试。

POI: 封装了对Excel表格的常用操作。 

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-44-24.png)

WebSocket: 一种通信网络协议，使客户端和服务器之间的数据交换更加简单，用于项目的来单、催单功能实现。

### **4). 数据层**

MySQL企业实用： 关系型数据库, 本项目的核心业务数据都会采用MySQL进行存储。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-47-14.png)

Redis提高访问性能： 基于key-value格式存储的内存数据库, 访问速度快, 经常使用它做缓存。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-46-57.png)

Mybatis企业实用： 本项目持久层将会使用Mybatis开发。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-47-28.png)

pagehelper: 分页插件。

spring data redis: 简化java代码操作Redis的API。

### **5). 工具**

git企业实用: 版本控制工具, 在团队协作中, 使用该工具对项目中的代码进行管理。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-49-05.png)

maven企业实用: 项目构建工具。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-49-26.png)

junit：单元测试工具，开发人员功能实现完毕后，需要通过junit对功能进行单元测试。 

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-50-04.png)

postman/Apifox: 接口测工具，模拟用户发起的各类HTTP请求，获取对应的响应结果。

![](http://image.yangeit.cn:21010/i/2023/06/15/2023-04-18-20-50-17.png)

#   开发环境搭建
## 前端环境搭建

**1). 前端工程基于 nginx**

从资料中找到前端运行环境的nginx，移动到**非中文目录**下。

![image-20221106202239828](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106202239828.png)

image-20221106202239828

**sky**目录中存放了管理端的前端资源，具体如下：

![image-20221106202517738](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106202517738.png)
**2). 启动nginx，访问测试**

双击 nginx.exe 即可启动 nginx 服务，访问端口号为 80

[http://localhost:80open in new window](http://localhost/)

![image-20221106202720190](http://image.yangeit.cn:21010/i/2023/06/15/image-20221106202720190.png)

## **后端环境搭建**

### **熟悉项目结构**

后端工程基于 maven 进行项目构建，并且进行分模块开发。

![image-20221107092342140](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107092342140.png)

![image-20221107092540194](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107092540194.png)

**对工程的每个模块作用说明：**

|**序号**|**名称**|**说明**|
|---|---|---|
|1|sky-take-out|maven父工程 ，统一管理依赖版本，聚合其他子模块|
|2|sky-common|子模块，存放公共类，例如：工具类、常量类、异常类等|
|3|sky-pojo|子模块，存放实体类、VO、DTO等|
|4|sky-server|子模块，后端服务，存放配置文件、Controller、Service、Mapper等|

对项目整体结构了解后，接下来我们详细分析上述的每个子模块：

##### sky-take-out
1. **maven父工程**，统一管理依赖版本 ，聚合其他子模
2. 没有代码 ，只有一个pom.xml文件
##### **sky-common**

**sky-common:** 模块中存放的是一些公共类，可以供其他模块使用

![image-20221107093606590](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107093606590.png)

分析sky-common模块的每个包的作用：

|名称|说明|
|---|---|
|constant|存放相关常量类|
|context|存放上下文类|
|enumeration|项目的枚举类存储|
|exception|存放自定义异常类|
|json|处理json转换的类|
|properties|存放SpringBoot相关的配置属性类|
|result|返回结果类的封装|
|utils|常用工具类|

##### **sky-pojo**

**sky-pojo:** 模块中存放的是一些 entity、DTO、VO

![image-20221107094611987](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107094611987.png)

分析sky-pojo模块的每个包的作用：

|**名称**|**说明**|
|---|---|
|Entity|实体，通常和数据库中的表对应|
|DTO|数据传输对象，通常用于程序中各层之间传递数据|
|VO|视图对象，为前端展示数据提供的对象|
|POJO|普通Java对象，只有属性和对应的getter和setter|

##### **sky-server**

**sky-server:** 模块中存放的是 配置文件、配置类、拦截器、controller、service、mapper、启动类等

![image-20221107094852361](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107094852361.png)

分析sky-server模块的每个包的作用：

|名称|说明|
|---|---|
|config|存放配置类|
|controller|存放controller类|
|interceptor|存放拦截器类|
|mapper|存放mapper接口|
|service|存放service类|
|SkyApplication|启动类|

## Git版本控制

### 第一步 创建本地仓库
![image-20221107164030050](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107164030050.png)![image-20221107135640100](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107135640100.png)

### 第二步创建Git远程仓库

### 第三步**将本地文件推送到Git远程仓库**

1. **提交文件至本地仓库**

忽略以下类型文件

![image-20221107164324396](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107164324396.png)

开始提交

![image-20221107164654572](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107164654572.png)

中间出现：点击commit

![image-20221107164813643](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107164813643.png)

2. **添加Git远程仓库地址**
    
    复制远程地址：
    
    ![image-20221107141339343](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107141339343.png)
    
    添加地址：
    
    ![image-20221107141634614](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107141634614.png)![image-20221107141813693](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107141813693.png)
3. **推送**
![image-20221107141934132](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107141934132.png)

成功推送至远程仓库
![](Pasted%20image%2020231031132201.png)

##  数据库环境搭建
[mysql安装](## Windows10 MYSQL Installer 安装（mysql-installer-community-5.7.19.0.msi）)
**MySQL Workbench** 安装
_官方地址：[http://www.mysqlworkbench.cn/](http://www.mysqlworkbench.cn/)_

![](Pasted%20image%2020231031144308.png)

![](Pasted%20image%2020231031144405.png)

![](Pasted%20image%2020231031144421.png)

![](Pasted%20image%2020231031144430.png)

![](Pasted%20image%2020231031144500.png)

[数据库设计文档](数据库设计文档.md)

## 前后端联调
实现思路：
![image-20221107110539832](http://image.yangeit.cn:21010/i/2023/06/15/image-20221107110539832.png)




MD5信息摘要算法(英语: MD5 Message-Digest Algorithm)，一种被广泛使用的密码散列函数，可以产生出一个128位(16字节)的散列值(hash value)，用于确保信息传输完整一致。MD5由美国密码学家罗纳德·李维斯特(Ronald LinnRivest)设计，于1992年公开，用以取代MD4法。这套算法的程序在 RFC 1321 标准中被加加以规范。1996年后该算法被证实存在弱点，可以被加以破解，对于需要高度安全性的数据，专家一般建议改用其他算法，如SHA-2。2004年，证实MD5算法无法防止碰撞 (collision)，因此不适用于安全性认证，如SSL公开密钥认证或是数字签名等用途。

 ## Swagger
 
使用Swaqger你只需要按照它的规范去定义接口及接口相关的信息，就可以做到生成接口文档，以及**在线接口调试页面**

Knife4j是为Java MVC框架集成Swagger生成Api文档的增强解决方案

### 使用

1.导入 knife4j 的maven坐标

2.在配置类中加入 knife4j 相关配置

3.设置静态资源映射，否则接口文档页面无法访问

4.访问测试